# 后端开发规范

本文档定义 Open Cluster Claw 项目的后端开发规范。

## 文档列表

| 文档 | 说明 |
| ---- | ---- |
| [总体原则](./01-总体原则.md) | 核心原则、技术栈、代码风格 |
| [项目分层](./02-项目分层.md) | 目录结构、各层职责、依赖规则 |
| [错误处理规范](./05-错误处理规范.md) | 错误定义、包装、判断、转换 |
| [禁止清单](./15-禁止清单.md) | 严格禁止事项和检查清单 |

## 核心原则

1. **禁止自由发挥** - 所有代码必须符合既定模板和分层职责
2. **显式优于隐式** - 所有行为必须是显式的、可推导的、无隐式副作用
3. **保守优先** - 任何不确定写法，优先选择最保守、最清晰的实现
4. **单一职责** - 每个函数、每个模块只做一件事
5. **可测试性** - 代码必须易于测试，依赖通过接口注入

## 分层架构

```
cmd/
  controlplane/  // 控制平面启动入口
internal/
  api/           // API 路由和 Handler
  service/       // 业务服务层
  domain/        // 领域模型
  repository/    // 数据访问层
  model/         // 数据库模型
  middleware/    // 中间件
  pkg/           // 通用工具
config/         // 配置管理
```

## 快速开始

1. 阅读 [总体原则](./01-总体原则.md) 了解基本规范
2. 阅读 [项目分层](./02-项目分层.md) 理解架构设计
3. 参考 [错误处理规范](./05-错误处理规范.md) 编写错误处理
4. 使用 [禁止清单](./15-禁止清单.md) 检查代码